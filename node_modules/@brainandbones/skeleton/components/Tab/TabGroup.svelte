<script>import { setContext } from 'svelte';
// Props
export let selected;
export let rail = true;
export let justify = 'justify-start';
export let borderWidth = 'border-b-2';
export let borderColor = 'border-primary-500';
export let color = 'text-primary-500';
export let fill = 'fill-primary-500';
export let hover = 'bg-hover-token';
export let rounded = 'rounded-tl-container-token rounded-tr-container-token';
// A11y
export let labeledby = undefined;
export let label = undefined;
// Set Context
setContext('selected', selected);
setContext('borderWidth', borderWidth);
setContext('borderColor', borderColor);
setContext('color', color);
setContext('fill', fill);
setContext('hover', hover);
setContext('rounded', rounded);
// Classes
const cBase = 'border-surface-300-600-token flex hide-scrollbar overflow-x-auto';
// Handle Home/End Input
let elemTabGroup;
function keydown(event) {
    if (['Home', 'End'].includes(event.code)) {
        event.preventDefault();
        if (event.code === 'Home') {
            elemTabGroup.children[0].focus();
        }
        if (event.code === 'End') {
            elemTabGroup.children[elemTabGroup.children.length - 1].focus();
        }
    }
}
// Reactive Classes
$: classesRail = rail ? borderWidth : 'border-0';
$: classesGroup = `${cBase} ${classesRail} ${justify} ${$$props.class ?? ''}`;
</script>

<!-- prettier-ignore -->
<nav class="tab-group" data-testid="tab-group">
	<ul
		bind:this={elemTabGroup}
		on:keydown={keydown}
		class="tab-group-list {classesGroup}"
		role="tablist"
		aria-labelledby={labeledby}
		aria-label={label}
	>
		<slot />
	</ul>
</nav>
