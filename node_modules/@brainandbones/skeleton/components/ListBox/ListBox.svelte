<script>import { setContext } from 'svelte';
import { writable } from 'svelte/store';
// Props (Listbox)
export let selected = writable(undefined);
export let space = 'space-y-1';
export let height = undefined;
// Props (Item)
export let accent = '!bg-active-token'; // '!' recommended
export let padding = 'px-4 py-3';
export let rounded = 'rounded-token';
export let hover = 'bg-hover-token';
// Props (regions)
export let regionLabel = undefined;
export let regionList = undefined;
// Props (a11y)
export let label = undefined;
export let labelId = label?.toLowerCase().replace(' ', '-');
// Context
setContext('selected', selected);
setContext('accent', accent);
setContext('padding', padding);
setContext('rounded', rounded);
setContext('hover', hover);
// Base Classes
const cBase = 'space-y-4';
const cLabel = 'font-bold text-lg';
const cListBox = 'list-none overflow-y-auto';
// Reactive
$: classesBase = `${cBase} ${$$props.class ?? ''}`;
$: classesLabel = `${cLabel}`;
$: classesListBox = `${cListBox} ${height} ${space}`;
</script>

<div class="listbox {classesBase}" data-testid="listbox-area">
	<!-- Label -->
	{#if label}<span class="listbox-label {classesLabel} {regionLabel}" id={labelId}>{label}</span>{/if}
	<!-- Listbox -->
	<ul class="listbox-list {classesListBox} {regionList}" role="listbox" aria-labelledby={labelId}>
		<slot />
	</ul>
</div>
